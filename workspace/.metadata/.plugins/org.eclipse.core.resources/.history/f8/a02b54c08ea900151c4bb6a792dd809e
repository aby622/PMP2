package aufgabenblatt4;

import java.util.List;

import javafx.application.Application;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.ListView;
import javafx.scene.control.TableColumn;
import javafx.scene.control.TableView;
import javafx.scene.control.TextArea;
import javafx.scene.layout.BorderPane;
import javafx.scene.layout.HBox;
import javafx.scene.layout.Pane;
import javafx.scene.layout.VBox;
import javafx.stage.Stage;

public class JavaFxGUI extends Application {

  private Stage primaryStage;

  /**
   * Breite und Hoehe der Anwendung
   */

  private final int width, height;

  private PolygonDarstellung darstellung;

  public JavaFxGUI(Stage primaryStagePar) {
	primaryStage = primaryStagePar;
	width = 700;
	height = 700;
	try {
	  start(primaryStagePar);
	} catch (Exception e) {
	  e.printStackTrace();
	}
  }

  @Override
  public void start(Stage primaryStagePar) throws Exception {
	primaryStage.setTitle("Zeicheneditor: Polygone");
	primaryStage.setScene(new Scene(gui(), width, height));
	primaryStage.show();
	Polygon polygon = new Polygon();
	polygon.addPunkt(10, 10);
	darstellung.zeichnePolygon(polygon);
  }

  /**
   * 
   * @return
   */
  private Pane gui() {
	BorderPane pane = new BorderPane();
	pane.setRight(polygoneListe());
	pane.setCenter(zeichenflaeche());
	pane.setBottom(befehlseingabe());
	return pane;
  }

  /**
   * 
   * @return
   */
  private Pane befehlseingabe() {
	BorderPane pane = new BorderPane();
	TextArea eingabeFeld = new TextArea();
	pane.setCenter(eingabeFeld);
	pane.setBottom(buttonBefehl());
	return pane;
  }

  /**
   * 
   * @return
   */
  private Pane buttonBefehl() {
	HBox pane = new HBox();
	Button bestaetige = new Button("Bestaetigen");
	Button verschieben = new Button("Verschieben");
	pane.getChildren().addAll(bestaetige, verschieben);
	return pane;
  }

  /**
   * 
   * @return
   */
  private PolygonDarstellung zeichenflaeche() {
	darstellung = new PolygonDarstellung();
	return darstellung;
  }

  // Muss noch gemacht werden
  // LISTE FERTIGER POLYGONE
  private Pane polygoneListe() {
	ObservableList<List> oList = FXCollections.observableArrayList();
	
	oList = PolygonModell.thisPolygon;
	TableView table = new TableView();
	table.setEditable(true);
	TableColumn firstNameCol = new TableColumn("Polygon");
	table.getColumns().addAll(firstNameCol);
	BorderPane pane = new BorderPane();

	table.setItems(oList);
	pane.setCenter(table);
	return pane;
  }
}
