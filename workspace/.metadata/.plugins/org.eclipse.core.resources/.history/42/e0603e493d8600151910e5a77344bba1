package test1;

public class Rennauto extends Thread {

  private double geschwindigkeit;
  private double streckenlaenge;
  private double gesamteRennzeit = 0.0;

  public Rennauto(double geschwindigkeit, double streckenlaenge) {
	this.geschwindigkeit = geschwindigkeit;
	this.streckenlaenge = streckenlaenge;
  }

  public double getZeit() {
	return this.gesamteRennzeit;
  }

  @Override
  public void run() {
	while (!isInterrupted()) {
	  for (double schritte = 1; schritte <= streckenlaenge & !isInterrupted(); schritte++) {
		double zeitProSchritt = (Math.random() * 0.4 + 0.8);
		gesamteRennzeit += zeitProSchritt;
		zeitProSchritt *= 1000;
		System.err.format(Thread.currentThread().getName() + ": %.1f/%.1f\n", schritte, streckenlaenge);
		if(schritte == streckenlaenge){
		  interrupt();
		}
		try{
		  Thread.sleep((long) zeitProSchritt);
		} catch (InterruptedException e){
		  interrupt();
		  System.err.format("%s hat das Ziel erreicht\n", currentThread().getName());
		}
	  }
	}
  }

}
