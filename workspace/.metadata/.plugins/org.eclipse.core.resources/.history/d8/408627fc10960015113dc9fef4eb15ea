package aufgabenblatt3;

public class Rangierbahnhof {

  private int anzahlGleise = 3;

  private Zug[] zuege = new Zug[anzahlGleise];

  public Zug[] getZug() {
	return zuege;
  }

  public synchronized void ausfahren(int gleis) {
	if (zuege[gleis] instanceof Zug) {
	  try {
		zuege[gleis] = null;
		System.err.println("ausfahren");
		wait();
	  } catch (InterruptedException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	  }
	}
	notify();
  }

  public synchronized void einfahren(int gleis) {
	if (zuege[gleis] == null) {
	  try {
		Zug[] zug = {new Zug()};
		zuege[gleis] = zug[0];
		System.err.println("eingefahren");
		System.err.println("" + zuege.toString());
		wait();
	  } catch (InterruptedException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	  }
	}
	notify();
  }
  @Override
  public String toString(){
	
	return "Gleise:" + zuege[0].toString()+ zuege[1].toString()+ zuege[2].toString();
	
  }

}
