package test;

import test1.Rennauto;

public class Rennabbruch extends Thread {

  private Rennauto auto1;
  private Rennauto auto2;
  private Rennauto auto3;

  public Rennabbruch(Rennauto auto1, Rennauto auto2, Rennauto auto3) {
	this.auto1 = auto1;
	this.auto2 = auto2;
	this.auto3 = auto3;
  }

  @Override
  public void run() {
	while (!isInterrupted()) {
	  for (int i = 1; !isInterrupted(); i++) {
		int rennabbruchWahrscheinlichkeit = (int) (Math.random() * 9 + 1);
		try {
		  Thread.sleep(1000);
		} catch (InterruptedException e) {
		  interrupt();
		}
		System.out.println(rennabbruchWahrscheinlichkeit);
		if (rennabbruchWahrscheinlichkeit == 1) {
		  interrupt();
		  auto1.interrupt();
		  auto2.interrupt();
		  auto3.interrupt();
		  System.out.println("Rennabbruch");
		}
		if (i == 10)
		  interrupt();
	  }
	}
  }

}
