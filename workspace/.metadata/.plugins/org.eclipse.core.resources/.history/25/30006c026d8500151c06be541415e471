/**
 * PMP2, WS 2015/16
 * Gruppe: Jannes Volkens (jannes.volkens@haw-hamburg.de),
 * Leon Schlichting (leon.schlichting@haw-hamburg.de)
 * Aufgabe: Aufgabenblatt 2, Aufgabe 3
 */
package aufgabenblatt2;

public class Rennauto extends Thread {

  private double rennstrecke;
  private double rennzeit;
  String name;

  public Rennauto(String name) {
	this.rennstrecke = 0.0;
	this.name = name;
  }

  public double getRennzeit() {
	return this.rennzeit;
  }

  @Override
  public void run() {
	while (!isInterrupted()) {
	  double start = System.currentTimeMillis();
	  while (rennstrecke < 10) {
		long aktuellerSpeed = (long) (Math.random() * (1200 - 800) + 800);
		rennzeit += aktuellerSpeed;
		rennstrecke++;
		System.err.println("  " + name + ": " + rennstrecke + "/10.0");
		if (rennstrecke == 10) {
		  interrupt();
		}
		try {
		  Thread.sleep(aktuellerSpeed);
		} catch (InterruptedException e) {
		  interrupt();
		  
		}System.err.println(name + ": " + (Math.round(10.0 * ((rennzeit) / 1000)) / 10.0));
	  }

	  double ende = Math.round(10.0 * ((System.currentTimeMillis() - start) / 1000)) / 10.0;
	
	}
  }

  public static void main(String[] args) {
	Rennauto golf = new Rennauto("golf");
	Rennauto benz = new Rennauto("benz");
	Rennauto audi = new Rennauto("audi");
	golf.start();
	benz.start();
	audi.start();
  }
}
