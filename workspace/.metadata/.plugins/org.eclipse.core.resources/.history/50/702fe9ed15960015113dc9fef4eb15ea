package aufgabenblatt3;

import java.util.Observable;

public class Simulation extends Observable implements Runnable {

  public Rangierbahnhof bahnhof = new Rangierbahnhof();
  private Zug[] zuege = bahnhof.getZug();

  public Simulation(Rangierbahnhof bahnhof) {
	this.bahnhof = bahnhof;
	setChanged();
	notifyObservers();
  }

  public Rangierbahnhof getBahnhof() {
	return bahnhof;
  }

  @Override
  public void run() {
	while (true) {
	  try {
		Thread.sleep(500);

		int zufall4 = (int) (2 * Math.random() + 1);

		Lokfuehrer vierter = new Lokfuehrer(new Ausfahren(), bahnhof);
		vierter.parken(zufall4);

		int zufall1 = (int) (2 * Math.random() + 1);
		Lokfuehrer erster = new Lokfuehrer(new Einfahren(), bahnhof);
		erster.parken(zufall1);

	  } catch (InterruptedException e) {
	  }
	}
  }
}
